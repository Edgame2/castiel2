{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "API Gateway Module Configuration",
  "type": "object",
  "required": ["module", "server", "jwt"],
  "properties": {
    "module": {
      "type": "object",
      "required": ["name", "version"],
      "properties": {
        "name": { "type": "string" },
        "version": { "type": "string" }
      }
    },
    "server": {
      "type": "object",
      "required": ["port", "host"],
      "properties": {
        "port": { "type": ["integer", "string"], "minimum": 1, "maximum": 65535 },
        "host": { "type": "string" }
      }
    },
    "jwt": {
      "type": "object",
      "required": ["secret"],
      "properties": {
        "secret": { "type": "string" }
      }
    },
    "services": {
      "type": "object",
      "properties": {
        "auth": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "user_management": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "secret_management": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "logging": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "notification": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "ai_service": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "embeddings": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "dashboard": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "risk_analytics": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "risk_catalog": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "recommendations": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "integration_manager": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "shard_manager": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "integration_processors": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "ml_service": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "ai_conversation": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "multi_modal_service": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        },
        "prompt_service": {
          "type": "object",
          "properties": {
            "url": { "type": "string", "format": "uri" }
          }
        }
      }
    },
    "rate_limit": {
      "type": "object",
      "properties": {
        "max": { "type": ["integer", "string"], "minimum": 1 },
        "timeWindow": { "type": ["integer", "string"], "minimum": 1 }
      }
    },
    "circuit_breaker": {
      "type": "object",
      "properties": {
        "threshold": { "type": ["integer", "string"], "minimum": 1 },
        "timeout": { "type": ["integer", "string"], "minimum": 1 }
      }
    }
  }
}
