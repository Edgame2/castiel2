# Terraform Remote Backend Configuration
# Copy this file to backend.tf and configure for your environment

terraform {
  backend "azurerm" {
    # Storage account for Terraform state
    resource_group_name  = "castiel-tfstate-rg"
    storage_account_name = "castieltfstate"  # Must be globally unique
    container_name       = "tfstate"
    key                  = "castiel-${var.environment}.terraform.tfstate"
    
    # Use Azure AD authentication (recommended)
    use_azuread_auth = true
    
    # Optional: Enable state locking
    # Note: Requires storage account with blob versioning enabled
  }
}

# To initialize with remote backend:
# terraform init \
#   -backend-config="storage_account_name=castieltfstate" \
#   -backend-config="container_name=tfstate" \
#   -backend-config="key=castiel-dev.terraform.tfstate" \
#   -backend-config="resource_group_name=castiel-tfstate-rg"



