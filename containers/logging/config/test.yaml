# Test-specific configuration overrides
# These override values from default.yaml

server:
  port: 3015 # Use a different port for tests
  host: 0.0.0.0

database:
  url: ${TEST_DATABASE_URL:-postgresql://user:password@localhost:5432/logging_test}
  pool_size: 5

rabbitmq:
  url: ${TEST_RABBITMQ_URL:-amqp://localhost:5673} # Use a different RabbitMQ for tests
  exchange: coder_events_test
  queue: logging_service_test

# Disable features that aren't needed in tests
archive:
  enabled: false

siem:
  enabled: false

# Use mock or test-specific service URLs
services:
  user_management:
    url: http://localhost:3000
  notification:
    url: http://localhost:3001

# Reduce retention for faster tests
defaults:
  retention:
    default_days: 1
    min_days: 1
    max_days: 7

# Disable background jobs in tests
jobs:
  retention:
    enabled: false
  archive:
    enabled: false
  partition:
    enabled: false
  alerts:
    enabled: false

# Reduce batch sizes for tests
ingestion:
  batch_size: 10
  flush_interval_ms: 100



